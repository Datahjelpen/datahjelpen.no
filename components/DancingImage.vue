<style lang="scss" module>
.root {
  width: 100%;
  height: 100%;

  & > svg,
  & > figure {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    width: 100%;
    height: 100%;
  }
}

.root svg,
.root svg g,
.root svg defs,
.root svg clipPath,
.root svg path,
.figure {
  //   position: absolute;
  //   width: 100%;
  //   height: 100%;
}

.root svg:not(:root),
.figure {
  overflow: hidden;
}

.figure {
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
}

.figure img {
  visibility: hidden;
  width: 100%;
  height: 100%;
  //   max-width: none;
}
</style>
<template>
  <div :class="$style.root">
    <svg viewBox="0 0 1000 1000">
      <defs>
        <clipPath :id="id">
          <path fill="black" :d="shape0">
            <animate
              repeatCount="indefinite"
              attributeName="d"
              :dur="duration"
              :values="shape0 + shape1 + shape2 + shape3 + shape4 + shape0"
            ></animate>
          </path>
        </clipPath>
      </defs>
    </svg>
    <figure
      :class="$style.figure"
      :style="
        'clip-path: url(#' + id + '); background-image: url(' + image + ');'
      "
    >
      <img :src="image" :alt="alt" />
    </figure>
  </div>
</template>
<script>
export default {
  data() {
    return {
      shape0:
        'M190.10884596524946,14.513050972367722 C134.10866007953496,42.25539011204597 99.23730682183512,84.43438175022087 65.70130678090264,153.38238169115334 C33.92630678090264,218.71138169115335 14.456729727487588,242.3299221230537 19.538729725124885,311.8409221230537 C21.528729727487587,339.0509221230537 91.04582195821209,503.7256053274133 100.295063521942,536.8081839180885 C128.01890827634713,635.9705023274132 -48.035269766513665,704.7531469186855 61.87673023348634,874.6921469186855 C123.56773046975643,970.0751469186855 311.13857211556723,867.1120558224968 430.55057211556726,885.1490558224968 C567.3205721155672,905.8080558224967 694.2336137573467,929.6070306331646 794.4156137573467,897.7210306331647 C918.5386137573468,858.2150306331646 935.7083829258562,737.1889169614973 983.3543829258562,634.9569169614972 C1074.5623805631553,439.25691696149727 1053.9643081268628,198.2531309169854 899.7303071268626,67.74713051698541 C804.1733071268627,-13.108869483014592 781.3022591268626,130.0047199169854 595.5982591268627,102.99671995791788 C406.2912591268627,75.46472001698541 289.89023889153987,-34.40660857862243 190.10884596524946,14.513050972367722 Z;',
      shape1:
        'M200.391256,6 C138.06059,22.7990703 77.9622177,42.6445401 44.4262177,111.59254 C12.6512177,176.92154 -4.1051307,212.01786 0.976869296,281.52886 C2.9668693,308.73886 99.0297526,534.545109 108.278994,567.627688 C136.002839,666.790006 -29.1381304,721.523368 80.7738696,891.462368 C142.46487,986.845368 331.636556,840.153183 451.048556,858.190183 C587.818556,878.849183 705.371102,948.496676 805.553102,916.610676 C929.676102,877.104676 941.497784,689.3436 989.143784,587.1116 C1080.35178,391.4116 1050.68971,206.848951 896.455709,76.3429506 C800.898709,-4.5130494 778.027661,138.60054 592.323661,111.59254 C403.016661,84.0605401 312.765712,-24.2866392 200.391256,6 Z;',
      shape2:
        'M175.270836,26.7977911 C128.405836,70.3317911 129.938279,144.739124 96.4022789,213.687124 C64.6272789,279.016124 41.242383,286.071679 46.324383,355.582679 C48.314383,382.792679 79.5246278,459.251586 88.7738696,492.334164 C116.497714,591.496483 -75.3047466,680.552915 34.6072534,850.491915 C96.2982534,945.874915 281.559,906.015 400.971,924.052 C537.741,944.711 678.161685,902.348368 778.343685,870.462368 C902.466685,830.956368 927.354,806.232 975,704 C1066.208,508.3 1058.68971,185.848951 904.455709,55.3429506 C808.898709,-25.5130494 786.027661,117.60054 600.323661,90.5925401 C411.016661,63.0605401 256.879836,-49.0102089 175.270836,26.7977911 Z;',
      shape3:
        'M166.22657304658065,22.739850052811523 C111.5104049820767,52.701823716060275 87.24632676413266,94.73573345572208 53.71032676413266,163.68373340495694 C21.935326764132657,229.01273340495695 -3.866769661059921,267.5518891304656 1.215230336909473,337.0628891304656 C3.205230338940079,364.2728891304656 56.238386535261625,492.8347648362444 69.63800719836158,524.4853092383987 C112.07921079999099,623.2417754820506 -22.325439574788238,692.9300458799456 87.58656042521176,862.8690458799456 C149.27756062827234,958.2520458799456 324.2131434528568,878.4883342182192 443.62514345285683,896.5253342182192 C580.3951434528568,917.1843342182192 679.77532870117,975.6272089712219 779.95732870117,943.7412089712219 C904.0803287011701,904.2352089712218 933.3714907512629,748.7155263019176 981.0174907512628,646.4835263019177 C1072.225488720657,450.7835263019177 1044.7918669475698,202.3606742202049 890.5578639781756,71.85467411561403 C795.0008639781756,-9.001325884385963 746.8503495313215,104.82910369583892 561.1463495313216,77.82110369583893 C371.8393495313215,50.28910374660408 263.4537019805109,-29.959164264598254 166.22657304658065,22.739850052811523 Z;',
      shape4:
        'M131.00584375408735,39.99825730731126 C84.14084375408736,83.53225730731127 96.82337174762245,148.44551069205522 63.28737174760924,217.39351069205523 C31.512371747609237,282.72251069205527 -3.615078029658654,324.8068862743593 1.466921970341346,394.31788627435924 C3.456921970341346,421.5278862743593 12.125897812557117,449.82924391414707 29.803785083763454,480.0036278466885 C87.41583931670212,578.3417366568661 -15.308920499614013,663.4502578502232 94.60307950038599,833.3892578502232 C156.29407950038598,928.7722578502232 316.5543799970469,918.0134159989875 435.9663799970469,936.0504159989875 C572.7363799970468,956.7094159989875 653.3872706565106,1003.5876346440328 753.5692706565106,971.7016346440329 C877.6922706565106,932.1956346440328 924.9929317023592,809.9323334911837 972.6389317023592,707.7003334911838 C1063.8469317023594,512.0003334911837 1038.7133472296857,197.7313263183893 884.4793422302138,67.2253265183101 C788.9223422302138,-13.630673481689907 714.7134147292699,70.01428221929561 529.0094147292699,43.006282219308815 C339.7024147292699,15.474282219308819 212.61484375408736,-35.80974269268874 131.00584375408735,39.99825730731126 Z;'
    }
  },
  props: {
    duration: {
      type: String,
      default: '15s'
    },
    id: {
      type: String,
      default: 'masked-image'
    },
    image: {
      type: String,
      required: true
    },
    alt: {
      type: String,
      default: '',
      required: false
    }
  }
}
</script>
